{
  "metadata": {
    "version": "1.0.0",
    "timestamp": "2025-10-11T20:00:32.344400",
    "purpose": "testing_antipatterns",
    "scenario": "Hidden Coupling Anti-Pattern",
    "description": "System with implicit dependencies and hidden coupling between services",
    "antipattern": "hidden_coupling",
    "problems": [
      "Implicit dependencies not visible in topology",
      "Shared mutable state",
      "Temporal coupling between services",
      "Race conditions"
    ]
  },
  "nodes": [
    {
      "id": "N1",
      "name": "Node1",
      "cpu_capacity": 9.0,
      "memory_gb": 11.0,
      "network_bandwidth_mbps": 3745.0,
      "zone": "zone-1",
      "region": "region-1"
    },
    {
      "id": "N2",
      "name": "Node2",
      "cpu_capacity": 9.0,
      "memory_gb": 15.0,
      "network_bandwidth_mbps": 1907.0,
      "zone": "zone-1",
      "region": "region-1"
    },
    {
      "id": "N3",
      "name": "Node3",
      "cpu_capacity": 10.0,
      "memory_gb": 24.0,
      "network_bandwidth_mbps": 4761.0,
      "zone": "zone-1",
      "region": "region-1"
    },
    {
      "id": "N4",
      "name": "Node4",
      "cpu_capacity": 9.0,
      "memory_gb": 11.0,
      "network_bandwidth_mbps": 4330.0,
      "zone": "zone-1",
      "region": "region-1"
    },
    {
      "id": "N5",
      "name": "Node5",
      "cpu_capacity": 11.0,
      "memory_gb": 24.0,
      "network_bandwidth_mbps": 1388.0,
      "zone": "zone-1",
      "region": "region-1"
    }
  ],
  "brokers": [
    {
      "id": "B1",
      "name": "Broker1",
      "protocol": "Kafka",
      "max_throughput_mbps": 19056.0,
      "max_connections": 7910,
      "partition_count": 84
    },
    {
      "id": "B2",
      "name": "Broker2",
      "protocol": "Kafka",
      "max_throughput_mbps": 24584.0,
      "max_connections": 8242,
      "partition_count": 85
    },
    {
      "id": "B3",
      "name": "Broker3",
      "protocol": "Kafka",
      "max_throughput_mbps": 22436.0,
      "max_connections": 9082,
      "partition_count": 35
    }
  ],
  "applications": [
    {
      "id": "A1",
      "name": "user-profile-service",
      "criticality_score": 0.7,
      "replicas": 2,
      "type": "PROSUMER",
      "owner": "platform-team",
      "version": "1.0.0",
      "hidden_dependency": "shared_cache"
    },
    {
      "id": "A2",
      "name": "preference-service",
      "criticality_score": 0.7,
      "replicas": 2,
      "type": "PROSUMER",
      "owner": "platform-team",
      "version": "1.0.0",
      "hidden_dependency": "shared_cache"
    },
    {
      "id": "A3",
      "name": "recommendation-service",
      "criticality_score": 0.7,
      "replicas": 2,
      "type": "PROSUMER",
      "owner": "platform-team",
      "version": "1.0.0",
      "hidden_dependency": "shared_cache"
    },
    {
      "id": "A4",
      "name": "personalization-service",
      "criticality_score": 0.7,
      "replicas": 2,
      "type": "PROSUMER",
      "owner": "platform-team",
      "version": "1.0.0",
      "hidden_dependency": "shared_cache"
    }
  ],
  "topics": [
    {
      "id": "T1",
      "name": "cache/invalidation",
      "qos": {
        "durability": "TRANSIENT_LOCAL",
        "reliability": "RELIABLE",
        "transport_priority": "HIGH",
        "deadline_ms": 50,
        "lifespan_ms": 60000,
        "history_depth": 100
      },
      "criticality_score": 0.8,
      "partition_count": 1,
      "message_pattern": "EVENT_DRIVEN",
      "hidden_coupling": "cache_coherence"
    },
    {
      "id": "T2",
      "name": "internal/state/sync",
      "qos": {
        "durability": "TRANSIENT_LOCAL",
        "reliability": "RELIABLE",
        "transport_priority": "HIGH",
        "deadline_ms": 50,
        "lifespan_ms": 60000,
        "history_depth": 100
      },
      "criticality_score": 0.8,
      "partition_count": 1,
      "message_pattern": "EVENT_DRIVEN",
      "hidden_coupling": "state_synchronization"
    },
    {
      "id": "T3",
      "name": "system/timestamps",
      "qos": {
        "durability": "TRANSIENT_LOCAL",
        "reliability": "RELIABLE",
        "transport_priority": "HIGH",
        "deadline_ms": 50,
        "lifespan_ms": 60000,
        "history_depth": 100
      },
      "criticality_score": 0.8,
      "partition_count": 1,
      "message_pattern": "EVENT_DRIVEN",
      "hidden_coupling": "temporal_dependency"
    }
  ],
  "relationships": {
    "runs_on": [
      {
        "from": "A1",
        "to": "N2"
      },
      {
        "from": "A2",
        "to": "N3"
      },
      {
        "from": "A3",
        "to": "N4"
      },
      {
        "from": "A4",
        "to": "N5"
      }
    ],
    "publishes_to": [],
    "subscribes_to": [
      {
        "from": "A1",
        "to": "T1"
      },
      {
        "from": "A2",
        "to": "T1"
      },
      {
        "from": "A3",
        "to": "T1"
      },
      {
        "from": "A4",
        "to": "T1"
      }
    ],
    "routes": [
      {
        "from": "B1",
        "to": "T1"
      },
      {
        "from": "B1",
        "to": "T2"
      },
      {
        "from": "B1",
        "to": "T3"
      }
    ]
  }
}